angular.module("app").factory("closedSignService",[function(){var r,e=new Date,o=e.getHours(),u=e.getMinutes(),n=function(){return["Domingo","Lunes","Martes","Miercoles","Jueves","Viernes","Sabado"][(new Date).getDay()]},i=function(r,e,n,i){var t=function(){if(o===r){if(u>=e)return!0}else{if(o!==n)return!0;if(u<i)return!0}};if(null!=r&&null!=n){if(n===r)return!0;if(n<r){if((o>=r||o<=n)&&t())return!0}else if(o>=r&&o<=n&&t())return!0}return!1},t=function(r,e,o){if(void 0==e)return r;var u,n,i,t;return r&&(open1hour=Number(r.split(":")[0])),e&&(open2hour=Number(e.split(":")[0])),open1hour>open2hour?(i=open1hour,u=r,t=open2hour,n=e):(i=open2hour,u=e,t=open1hour,n=r),o<t?n:o<i?u:o>i?n:o>t?u:void 0},s=function(r,e,o){if(void 0==e)return r;var u,n,i,t;return r&&(open1hour=Number(r.split(":")[0])),e&&(open2hour=Number(e.split(":")[0])),open1hour>open2hour?(i=open1hour,u=r,t=open2hour,n=e):(i=open2hour,u=e,t=open1hour,n=r),o<t?n:o<i?u:o>i?n:void 0},l={};return l.getData=function(e){for(var u in e.hours)if(n()===e.hours[u].dia){var l=!1;if(void 0!=e.hours[u].abre&&void 0!=e.hours[u].cierra){var p=Number(e.hours[u].abre.split(":")[0]),a=Number(e.hours[u].abre.split(":")[1]),h=Number(e.hours[u].cierra.split(":")[0]),v=Number(e.hours[u].cierra.split(":")[1]);l=i(p,a,h,v)}void 0!=e.hours[u].vuelveabrir&&void 0!=e.hours[u].vuelvecerrar&&(p=Number(e.hours[u].vuelveabrir.split(":")[0]),a=Number(e.hours[u].vuelveabrir.split(":")[1]),h=Number(e.hours[u].vuelvecerrar.split(":")[0]),v=Number(e.hours[u].vuelvecerrar.split(":")[1]),l||(l=i(p,a,h,v))),r=t(e.hours[u].abre,e.hours[u].vuelveabrir,o),nextOpenHour=r?r.split(":")[0]:0,nextCloseTime=s(e.hours[u].cierra,e.hours[u].vuelvecerrar,o),nextCloseHour=nextCloseTime?nextCloseTime.split(":")[0]:0}return{isOpen:l,openTime:r,openHour:nextOpenHour,closeTime:nextCloseTime,closeHour:nextCloseHour}},l}]);